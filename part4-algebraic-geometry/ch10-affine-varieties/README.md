# 第十章：仿射簇 —— 代数几何的起点

> **本章导读**：仿射簇是代数几何最基础的研究对象。从「多项式的零点集合」出发，我们一步一步构建代数几何的大厦。这一章会非常详细地介绍每个定义，因为理解仿射簇是理解整个代数几何的关键。

---

## 10.1 从多项式到几何：一个例子

### 10.1.1 方程的几何

回想中学学过的方程：

```
y = x²
```

这在平面上画出一条**抛物线**。

```text
    y
    ↑
  4 │        ●
    │      ●
  3 │     ●
    │    ●
  2 │   ●
    │  ●
  1 │ ●
    │
    └───────────── x
        0   1   2   3   4
```

**几何观点**：方程 y = x² 定义了平面上的一个子集。

### 10.1.2 多个方程

如果我们有**多个多项式方程**呢？

```
y = x²
y = x + 2
```

这两个方程的**公共解**就是它们的交点！

```text
解方程组：
y = x²
y = x + 2

代入：x² = x + 2
      x² - x - 2 = 0
      (x-2)(x+1) = 0
      
所以 x = 2 或 x = -1
对应 y = 4 或 y = 1

交点：(2, 4) 和 (-1, 1)
```

### 10.1.3 核心思想

> **几何 = 多项式方程组的解集**

这就是代数几何的**核心思想**！

---

## 10.2 仿射空间

### 10.2.1 正式定义

> **定义 10.2.1（仿射空间）**
> 
> 设 k 是一个代数闭域（如 k = ℂ）。**n 维仿射空间**记作 **Aⁿ(k)** 或简记为 Aⁿ，定义为：
> 
> ```
> Aⁿ = kⁿ = {(a₁, a₂, ..., aₙ) | aᵢ ∈ k}
> ```
> 
> 即 k 上的 n 元有序组构成的集合。

```text
例子：
- A¹ = 直线（k 中的点）
- A² = 平面（坐标平面）
- A³ = 三维空间

注意：仿射空间「没有原点」——这与向量空间不同！
```

### 10.2.2 为什么要用仿射空间？

> **原因**：仿射空间足够「好」，能够用多项式环来描述它的几何。

```text
在 Aⁿ 中，每点 p = (a₁, ..., aₙ) 对应一个「求值」同态：
ev_p: k[x₁, ..., xₙ] → k
      f      ↦ f(a₁, ..., aₙ)

这个同态的核是一个**极大理想**！
```

---

## 10.3 代数集

### 10.3.1 定义

> **定义 10.3.1（代数集）**
> 
> 设 k 是代数闭域，S ⊆ k[x₁, ..., xₙ] 是一个多项式集合。S 定义的**代数集（Algebraic Set）**为：
> 
> ```
> V(S) = {p ∈ Aⁿ | f(p) = 0, ∀f ∈ S}
> ```
> 
> 即所有多项式都为零的点的集合。

```text
简单说：V(S) 就是 S 中所有多项式的「公共零点」！

例子：
- V(x² - y) = 抛物线 y = x²
- V(x² + y² - 1) = 单位圆
- V(x - a, y - b) = 单点 (a, b)
```

### 10.3.2 例子

```text
例子1：直线
V(y - 2x + 1) = {(x, 2x - 1) | x ∈ k}
              = 平面上的一条直线

例子2：圆
V(x² + y² - 1) = 单位圆周

例子3：两条直线
V(xy) = V(x) ∪ V(y)
       = y轴 ∪ x轴

例子4：空集
V(1) = ∅（因为 1 = 0 无解）
```

### 10.3.3 代数集的运算

> **命题 10.3.2（代数集的运算）**
> 
> 1. 若 S ⊆ T，则 V(T) ⊆ V(S)
> 2. V(SS) = V(S) ∪ V(T)（两个理想的乘积对应并集）
> 3. V(S ∩ T) = V(S) ∪ V(T)
> 4. V(0) = Aⁿ（全空间）
> 5. V(1) = ∅（空集）

```text
几何直观：
- 更多方程 → 更小的点集
- 交集 → 「同时满足」
- 并集 → 「满足至少一个」
```

---

## 10.4 Zariski 拓扑

### 10.4.1 动机

> **问题**：代数集构成了 Aⁿ 的一个非常好的子集族，但它们对「并集」不封闭（无限并）。

**解决**：我们用**闭集**来定义拓扑！

> **定义 10.4.1（Zariski 拓扑）**
> 
> 在仿射空间 Aⁿ 上，**Zariski 闭集**定义为代数集的补集：
> 
> ```
> 闭集 = Aⁿ \ V(S)，其中 S ⊆ k[x₁, ..., xₙ]
> ```
> 
> 或者等价地，闭集正是代数集本身。

```text
例子：
- 整个空间 Aⁿ 是闭集（V(0) = Aⁿ）
- 单点是闭集（V(x-a, y-b) = {(a,b)}）
- 两条直线的并是闭集（V(xy) = V(x) ∪ V(y)）
- 但「一条直线」是闭集，「去掉一点的直线」不是闭集！
```

### 10.4.2 Zariski 拓扑的性质

> **命题 10.4.2（Zariski 拓扑的性质）**
> 
> 1. 任意（有限或无限）闭集的交集仍是闭集
> 2. 有限闭集的并集是闭集
> 3. Aⁿ 和 ∅ 是闭集
> 4. 闭集的补集是开集

```text
Zariski 拓扑 vs 欧几里得拓扑：

欧几里得拓扑：
- 开集：「稍微大一点」的点集
- 很「稠密」——任何非空开集都无限大
- 收敛很快

Zariski 拓扑：
- 开集：「去掉一些代数集」的点集
- 很「粗糙」——开集通常很大
- 拓扑性质很「差」：但这对代数几何反而是优点！
```

### 10.4.3 Zariski 开集

> **例子 10.4.3**
> 
> 在 A¹ 中：
> - 闭集：有限点集 + 整个 A¹
> - 所以开集：A¹ \ {有限点集} = 去掉有限个点的直线

> 这意味着：**A¹ 中非空开集总是「几乎整个直线」！**

---

## 10.5 坐标环与理想

### 10.5.1 坐标环

> **定义 10.5.1（坐标环）**
> 
> 设 V ⊆ Aⁿ 是代数集。V 的**坐标环（Coordinate Ring）**定义为：
> 
> ```
> k[V] = k[x₁, ..., xₙ] / I(V)
> ```
> 
> 其中 I(V) 是 V 的理想（见下）。

```text
例子：
- V = A¹ 时：k[A¹] = k[x]
- V = 直线 y = ax + b 时：k[V] = k[x]（因为 y 可以用 x 表示）
- V = 圆 x² + y² = 1 时：k[V] = k[x, y] / ⟨x² + y² - 1⟩

几何意义：坐标环「记住」了代数集的所有代数信息！
```

### 10.5.2 理想

> **定义 10.5.2（代数集的理想）**
> 
> 设 V ⊆ Aⁿ 是代数集。V 的**理想** I(V) 定义为：
> 
> ```
> I(V) = {f ∈ k[x₁, ..., xₙ] | f(p) = 0, ∀p ∈ V}
> ```
> 
> 即「在 V 上恒为零的多项式」的集合。

```text
例子：
- V = A¹ 时：I(V) = {0}
- V = 单点 (a, b) 时：I(V) = ⟨x - a, y - b⟩
- V = 圆 x² + y² = 1 时：I(V) = ⟨x² + y² - 1⟩
```

### 10.5.3 理想与几何的对应

> **命题 10.5.3（理想-几何对应）**
> 
> 1. 若 I ⊆ k[x₁, ..., xₙ] 是理想，则 I(V(I)) = √I（根理想）
> 2. 若 V ⊆ Aⁿ 是代数集，则 V(I(V)) = V

```text
根理想 √I = {f | fⁿ ∈ I 对某个 n}

几何解释：
- V(I) 是 I 中多项式的公共零点
- I(V) 是在 V 上为零的多项式
- 这个对应是 Hilbert Nullstellensatz 的基础！
```

---

## 10.6 Hilbert 零点定理

> **定理 10.6.1（Hilbert 零点定理，弱形式）**
> 
> 设 k 是代数闭域，I ⊆ k[x₁, ..., xₙ] 是理想。则：
> 
> ```
> V(I) = ∅  ⇔  √I = k[x₁, ..., xₙ]
> ```
> 
> 即：I 的根等于整个环 ⇔ 方程组无解。

```text
换句话说：
- 若多项式方程组没有解
- 则「1」可以写成这些多项式的线性组合（带幂）
- 即存在 f₁, ..., fₘ 和正整数 N 使得：
  1 = f₁g₁ + ... + fₘgₘ，其中 gᵢ ∈ I^N
```

> **定理 10.6.2（Hilbert 零点定理，强形式）**
> 
> 设 k 是代数闭域，I ⊆ k[x₁, ..., xₙ] 是理想，f ∈ k[x₁, ..., xₙ]。则：
> 
> ```
> f 在 V(I) 上恒为零  ⇔  fⁿ ∈ I 对某个 n
> ```
> 
> 即：f 在解集上为零 ⇔ f 的某个幂在理想中

---

## 10.7 仿射簇

### 10.7.1 定义

> **定义 10.7.1（仿射簇）**
> 
> **仿射簇（Affine Variety）** 是 Zariski 闭集，即某个多项式集合的零点集。

```text
例子：
- 点、直线、圆、椭圆都是仿射簇
- Aⁿ 本身是仿射簇（V(0)）
- 有限点集是仿射簇
```

### 10.7.2 不可约性

> **定义 10.7.2（不可约）**
> 
> 仿射簇 V 是**不可约（Irreducible）**的，如果不能写成两个真闭子集的并：
> 
> ```
> V = V₁ ∪ V₂  ⇒  V₁ = V 或 V₂ = V
> ```

```text
例子：
- 直线、圆（作为点集）是不可约的
- 两条直线的并 V(xy) 是可约的（V(x) ∪ V(y)）

几何直观：「不可约」= 「不能分成两块」
```

> **定义 10.7.3（仿射簇的维数）**
> 
> 不可仿射簇 V 的**维数** dim(V) 是：
> - 最长的纯维数链的长度
> - 或者：函数域的超越次数

```text
例子：
- dim(Aⁿ) = n
- dim(直线) = 1
- dim(点) = 0
```

---

## 10.8 态射

### 10.8.1 定义

> **定义 10.8.1（仿射簇的态射）**
> 
> 仿射簇之间的**态射（Morphism）** φ: V → W 是多项式映射：
> 
> ```
> φ = (f₁, ..., fₘ)，其中 fᵢ ∈ k[V]
> ```
> 
> 即每个坐标分量都是 V 上多项式（坐标环的元素）。

```text
例子：
- 恒等映射：id_V: V → V
- 嵌入：A¹ → A²，x ↦ (x, x²) 像是抛物线
- 投影：A² → A¹，(x, y) ↦ x
```

### 10.8.2 环面同态

> **命题 10.8.2（态射 ↔ 环同态）**
> 
> 仿射簇态射 V → W 对应于坐标环的**反向**环同态：
> 
> ```
> Hom(V, W) ≅ Hom(k[W], k[V])
> ```
> 
> 其中右侧是 k-代数同态。

```text
几何直觉：
- 从 W 到 V 的映射 ←→ 从 k[V] 到 k[W] 的映射
- 这建立了「几何 ↔ 代数」的对应！
```

---

## 10.9 有理函数与函数域

### 10.9.1 局部化回顾

> 回忆：在环 R 中，局部化 S⁻¹R 是在分母集合 S 中添加逆元。

### 10.9.2 有理函数

> **定义 10.9.1（有理函数）**
> 
> 在仿射簇 V 上，**有理函数（Rational Function）** 是在某个非空开集上有定义的**局部有理函数**：
> 
> ```
> f = g/h，其中 g, h ∈ k[V]，且 h 在某点不为零
> ```

### 10.9.3 函数域

> **定义 10.9.2（函数域）**
> 
> V 的**函数域（Function Field）** k(V) 是：
> 
> ```
> k(V) = k[V] 的分式域
>      = {g/h | g, h ∈ k[V], h ≠ 0}
> ```

```text
例子：
- V = A¹ 时：k(A¹) = k(x)（有理函数域）
- V = 圆 x² + y² = 1 时：k(V) = k(x, y)/(x² + y² - 1)
                         ≅ k(x)[y]/(y² - (1-x²))
```

---

## 10.10 习题

### 基础题

1. 描述下列代数集：
   - V(x - a)
   - V(x, y)
   - V(x² + y²)
   - V(x² - y³)

2. 证明：V(x² + y² - 1) 在 ℂ 上是不可约的

3. 描述 A² 的 Zariski 拓扑的开集

### 进阶题

4. 证明：仿射簇的有限并是仿射簇

5. 计算：V(x² - y²) 的不可约分支

6. 描述：从 V(y - x²) 到 A¹ 的同构

### 挑战题

7. **探索**：
   - 证明：仿射簇 V 是不可约的 ⇔ I(V) 是素理想
   - 这建立了「几何不可约性」↔「代数素性」的对应！

---

## 本章小结

| 概念 | 定义 | 例子 |
|------|------|------|
| 仿射空间 | Aⁿ = kⁿ | A¹ = 直线，A² = 平面 |
| 代数集 | 多项式方程组的解 | 直线、圆、椭圆 |
| Zariski拓扑 | 闭集=代数集 | 有限点集的补是开集 |
| 坐标环 | k[V] = k[x]/I(V) | k[A¹] = k[x] |
| 零点定理 | 几何⇔代数 | V(I)=∅ ⇔ √I=R |
| 仿射簇 | Zariski闭集 | 不可约代数集 |
| 态射 | 多项式映射 | 嵌入、投影 |
| 函数域 | 分式域 k(V) | k(x) |

---

## 代数几何伏笔

> 这一章学的仿射簇，就是代数几何时几何的起点！
> 
> - **仿射概形** Spec R 是仿射簇的推广
> - **簇（Variety）** 是有限型概形
> - **态射** 是簇之间的映射
> - **函数域** 决定了簇的「本质」
> 
> 下一章我们将学习**仿射概形**——从「坐标环」升级到「任意交换环」的谱！

---

## 下一步

下一章我们将学习**仿射概形**——这是现代代数几何的核心概念！

准备好了吗？🚀

---

*练习答案见附录*

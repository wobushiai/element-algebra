# 第六章：环与理想 —— 环的结构与几何

> **本章导读**：环是「可以加减乘」的代数结构，而理想是环中的「特殊子集」。在代数几何中，**环对应几何点，理想对应零点集**——这就是 Hilbert Nullstellensatz 的核心思想！

---

## 6.1 环：运算的舞台

### 6.1.1 环的定义

> **环（Ring）** R 是一个集合，配备两种运算 + 和 ×，满足：
> 1. (R, +) 是阿贝尔群（有零元、加法可交换）
> 2. (R\{0}, ×) 是半群（有单位元、乘法可结合）
> 3. 分配律：a(b + c) = ab + ac

```text
简单说：环就是「能加减乘」的集合（不必可除）！
```

### 6.1.2 例子

| 环 | 描述 |
|-----|------|
| ℤ | 整数环 |
| ℤₙ | 模n整数环 |
| ℚ[x] | 有理系数多项式环 |
| ℝ[x, y] | 实系数二元多项式环 |
| Mₙ(R) | n×n 矩阵环 |

### 6.1.3 交换环与非交换环

> 如果乘法满足 ab = ba，则称环是**交换环（Commutative Ring）**。

```text
- ℤ, ℚ[x], ℝ[x,y] 是交换环
- 矩阵环 Mₙ(ℝ)（n>1）是非交换环
```

> 💡 在代数几何中，我们**几乎只研究交换环**！

---

## 6.2 环同态：环之间的桥梁

### 6.2.1 定义

> **环同态（Ring Homomorphism）** φ: R → S 满足：
> 1. φ(a + b) = φ(a) + φ(b)
> 2. φ(ab) = φ(a)φ(b)
> 3. φ(1_R) = 1_S

### 6.2.2 例子

```text
例子1：包含映射
i: ℤ → ℚ，i(n) = n
这是环同态！

例子2：取模
π: ℤ → ℤ₆，π(n) = n mod 6
这也是环同态！

例子3：求值映射
evₐ: ℤ[x] → ℝ
evₐ(f(x)) = f(a)
例如：ev₂(x² + 1) = 2² + 1 = 5
```

---

## 6.3 理想：环中的特殊子集

### 6.3.1 理想的定义

> **理想（Ideal）** I 是环 R 的子集，满足：
> 1. 对加法封闭：若 a, b ∈ I，则 a + b ∈ I
> 2. 吸收任意元素：若 a ∈ I，r ∈ R，则 ra ∈ I

```text
简单说：理想对「加法」封闭，对「乘法」也封闭（被环中任意元素乘都跑不出理想）。
```

### 6.3.2 例子

```text
例子1：主理想
在 ℤ 中，⟨n⟩ = nℤ = {...,-2n,-n,0,n,2n,...}
⟨6⟩ = 6ℤ = {...,-12,-6,0,6,12,...}

例子2：多项式环中的理想
在 ℝ[x, y] 中：
⟨x⟩ = {x·f(x,y) | f ∈ ℝ[x,y]}
     = 所有「含x因子」的多项式

⟨x, y⟩ = {xf + yg | f,g ∈ ℝ[x,y]}
        = 所有在 (0,0) 处为零的多项式
```

### 6.3.3 主理想环

> 如果每个理想都是由单个元素生成的，则称环为**主理想环（PID）**。

```text
- ℤ 是主理想环
- ℤ[x] 不是主理想环（因为 ⟨2, x⟩ 不是主理想）
- ℝ[x] 不是主理想环
```

---

## 6.4 商环：制造新环

### 6.4.1 理想与商环

> 给定环 R 和理想 I，**商环（Quotient Ring）** R/I 是 I 的陪集的集合。

```text
例子：ℤ/6ℤ

ℤ = {...,-2,-1,0,1,2,3,4,5,6,...}
6ℤ = {...,-12,-6,0,6,12,...}

陪集：
0 mod 6 = {...,-12,-6,0,6,12,...}
1 mod 6 = {...,-11,-5,1,7,13,...}
2 mod 6 = {...,-10,-4,2,8,14,...}
3 mod 6 = {...,-9,-3,3,9,15,...}
4 mod 6 = {...,-8,-2,4,10,16,...}
5 mod 6 = {...,-7,-1,5,11,17,...}

所以 ℤ/6ℤ ≅ ℤ₆
```

### 6.4.2 同构定理

> **第一同构定理**：如果 φ: R → S 是满射环同态，则 R/Ker(φ) ≅ S

```text
例子：ev₂: ℤ[x] → ℝ
核 = ⟨x-2⟩（所有在 x=2 处为零的多项式）
像 = ℝ（因为任何实数都可以取到）

所以 ℤ[x]/⟨x-2⟩ ≅ ℝ
```

---

## 6.5 素理想与极大理想：两种重要的理想

### 6.5.1 素理想

> **素理想（Prime Ideal）** P 满足：
> - P ≠ R
> - 若 ab ∈ P，则 a ∈ P 或 b ∈ P

```text
在 ℤ 中：
- ⟨0⟩ 是素理想（若 ab=0，则 a=0 或 b=0？不！0×任何=0，所以 ⟨0⟩ 不是... 等等！）

等等，让我重新想：
在 ℤ 中，若 ab ∈ ⟨0⟩，则 ab = 0
但 2×3 = 0 mod 6，而 2∉⟨0⟩ 且 3∉⟨0⟩

所以 ⟨0⟩ 在 ℤ 中不是素理想！

正确的例子：
- ⟨p⟩（p 为素数）是 ℤ 的素理想
- ⟨x⟩ 在 ℤ[x] 中是素理想
```

### 6.5.2 极大理想

> **极大理想（Maximal Ideal）** m 满足：
> - m ≠ R
> - 若 I 是理想且 m ⊆ I ⊆ R，则 I = m 或 I = R

```text
在 ℤ 中：
- ⟨p⟩（p 为素数）是极大理想
- ℤ/⟨p⟩ ≅ ℤₚ（有限域）

在 ℝ[x] 中：
- ⟨x⟩ 是极大理想（商环 ≅ ℝ）
- ⟨x-1⟩ 也是极大理想
```

### 6.5.3 关系

> **每个极大理想都是素理想**，但反之不真！

```text
在 ℤ 中：
- ⟨0⟩ 是素理想（如果 ab=0，则 a=0 或 b=0）← 等等，这是错的！

纠正：在 ℤ 中，⟨0⟩ 不是素理想，因为 2×3=0 而 2,3 都不等于 0。

在 ℤ 中，素理想 = 极大理想 = ⟨p⟩（p 为素数）或 ⟨0⟩？

实际上：
- ℤ/⟨0⟩ ≅ ℤ（不是域）
- 所以 ⟨0⟩ 不是极大理想

- ℤ/⟨p⟩ ≅ ℤₚ（是域）
- 所以 ⟨p⟩ 是极大理想

所以在 ℤ 中：**素理想 = 极大理想 = ⟨p⟩**（p 为素数）
```

---

## 6.6 诺特环：升链条件的环

### 6.6.1 升链条件

> **升链条件（ACC）**：R 中任意理想升链
> I₁ ⊆ I₂ ⊆ I₃ ⊆ ...
> 必然在有限步停止。

满足 ACC 的环叫**诺特环（Noetherian Ring）**。

> 💡 **重要**：代数几何中研究的环大多是诺特环！

### 6.6.2 例子

```text
- ℤ 是诺特环（每个理想都是主理想）
- 任何域 k 是诺特环（只有 {0} 和 k 两个理想）
- k[x] 是诺特环
- k[x₁, ..., xₙ] 是诺特环（Hilbert 基定理）
```

### 6.6.3 诺特环的重要性

> **Hilbert 基定理**：若 R 是诺特环，则 R[x] 也是诺特环。

> 推论：多项式环 k[x₁, ..., xₙ] 是诺特环！

---

## 6.7 局部化：添加分母

### 6.7.1 定义

> **局部化（Localization）** 是添加某些元素作为分母的过程。

```text
例子：在 ℤ 中，取 S = {1, 2, 4, 8, ...} = {2ⁿ}
S⁻¹ℤ = {a/2ⁿ | a ∈ ℤ, n ≥ 0}

这类似于「分母只能是 2 的幂」的分数环！
```

### 6.7.2 素理想的局部化

> **局部环（Local Ring）** 是只有一个极大理想的环。

```text
例子：k[x]₍ₓ₎ = 在 x 处的有理函数环
- 元素是 f(x)/g(x)，其中 g(0) ≠ 0
- 极大理想 = ⟨x⟩（所有在 0 处为零的函数）
```

---

## 6.8 环与几何：对应关系

> 💡 **核心思想**：这是代数几何最基本的思想！

| 代数 | 几何 |
|------|------|
| 环 R | 空间 Spec(R) |
| 素理想 p | 点 p ∈ Spec(R) |
| 极大理想 | 极大点（Closed points） |
| 商环 R/I | 闭子集 V(I) |
| 局部化 Rₚ | 在点 p 处的局部环 |

> 这就是 **Nullstellensatz**（零点定理）告诉我们的：
> 
> **几何 ↔ 代数**
> 
> **V(I) = {p ∈ Spec(R) | I ⊆ p}**

---

## 6.9 习题

### 基础题

1. 验证 ℤ₆ 在加法和乘法下成环

2. 找出 ℤ 的所有理想

3. 证明 ⟨2, x⟩ 在 ℤ[x] 中不是主理想

### 进阶题

4. 描述 ℤ[x]/⟨x²+1⟩ 的结构（这是哪个环？）

5. 证明：若 R 是整环，则 R[x] 也是整环

6. 求 ℤ[x] 中理想 ⟨2, x⟩ 的所有素理想包含

### 挑战题

7. **探索**：
   - 证明 **Hilbert's Nullstellensatz** 的弱形式：
     - 若 I ⊂ k[x₁,...,xₙ] 是理想且 √I = k[x₁,...,xₙ]，则 V(I) = ∅
   - 思考：这在几何上是什么意思？

---

## 本章小结

| 概念 | 定义 | 例子 |
|------|------|------|
| 环 | 可加减乘的集合 | ℤ, k[x] |
| 环同态 | 保持运算的映射 | evₐ: f → f(a) |
| 理想 | 对加法封闭、吸收乘法的子集 | ⟨n⟩ ⊂ ℤ |
| 商环 | 理想的陪集环 | ℤ/nℤ |
| 素理想 | 若 ab∈P则a∈P或b∈P | ⟨p⟩ ⊂ ℤ |
| 极大理想 | 找不到更大的真包含的理想 | ⟨p⟩ ⊂ ℤ |
| 诺特环 | 满足升链条件的环 | k[x₁,...,xₙ] |
| 局部化 | 添加分母的环 | S⁻¹R |
| 局部环 | 只有一个极大理想的环 | k[x]₍ₓ₎ |

---

## 代数几何伏笔

> 这一章学的环和理想，就是代数几何的核心！
> 
> - **仿射概形** Spec(R) = 「环 R 的所有素理想的集合」
> - **闭子集** V(I) = 「包含理想 I 的所有素理想」
> - **层的茎** 就是在局部环中研究局部性质
> 
> 我们已经准备好了进入真正的代数几何！🎉

---

## 下一步

下一章我们将学习**域扩张**，这是理解伽罗瓦理论和代数曲线分类的基础。

准备好了吗？让我们继续！🚀

---

*练习答案见附录*
